<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>shooters.html</title>
<meta http-equiv="Content-Type" content="text/html; charset=win-1251" />
<meta name="generator" content="Generated by ConTEXT HTML exporter" />
<style type="text/css">
<!--
body { color: #000000; background-color: #FFFFFF; }
.php1-comment { color: #808080; font-style: italic; }
.php1-currentline { color: #000000; }
.php1-identifier { color: #000000; }
.php1-matchedbraces { color: #FF0000; }
.php1-number { color: #FF0000; }
.php1-reservedword { color: #000080; font-weight: bold; }
.php1-rightedge { color: #C0C0C0; }
.php1-selection { color: #FFFFFF; }
.php1-space { color: #000000; }
.php1-string { color: #800000; }
.php1-symbol { color: #808080; }
.php1-variable { color: #008080; }
-->
</style>
</head>
<body>
<pre>
<code><span style="font: 9pt Courier New;"><span class="php1-space">  </span><span class="php1-variable">$numericalData</span><span class="php1-space"> </span><span class="php1-symbol">=</span><span class="php1-space"> </span><span class="php1-reservedword">false</span><span class="php1-symbol">;
</span><span class="php1-space">    </span><span class="php1-variable">$productsToReturn</span><span class="php1-space"> </span><span class="php1-symbol">=</span><span class="php1-space"> </span><span class="php1-reservedword">array</span><span class="php1-symbol">();
</span><span class="php1-space">    </span><span class="php1-reservedword">if</span><span class="php1-space"> </span><span class="php1-symbol">(</span><span class="php1-identifier">is_numeric</span><span class="php1-symbol">(</span><span class="php1-variable">$key</span><span class="php1-symbol">))</span><span class="php1-space"> </span><span class="php1-variable">$numericalData</span><span class="php1-space"> </span><span class="php1-symbol">=</span><span class="php1-space"> </span><span class="php1-reservedword">true</span><span class="php1-symbol">;
</span><span class="php1-space">    </span><span class="php1-variable">$products</span><span class="php1-space"> </span><span class="php1-symbol">=</span><span class="php1-space"> unserialize</span><span class="php1-symbol">(</span><span class="php1-identifier">serializedProductsToObjects</span><span class="php1-symbol">());
</span><span class="php1-space">    </span><span class="php1-reservedword">if</span><span class="php1-space"> </span><span class="php1-symbol">(</span><span class="php1-identifier">strcasecmp </span><span class="php1-symbol">(</span><span class="php1-variable">$key</span><span class="php1-symbol">,</span><span class="php1-space"> </span><span class="php1-string">&quot;!all&quot;</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">==</span><span class="php1-space"> </span><span class="php1-number">0</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">{
</span><span class="php1-space">      </span><span class="php1-reservedword">return</span><span class="php1-space"> </span><span class="php1-variable">$products</span><span class="php1-symbol">;
</span><span class="php1-space">    </span><span class="php1-symbol">}
</span><span class="php1-space">    </span><span class="php1-reservedword">foreach</span><span class="php1-space"> </span><span class="php1-symbol">(</span><span class="php1-variable">$products</span><span class="php1-space"> </span><span class="php1-reservedword">as</span><span class="php1-space"> </span><span class="php1-variable">$product</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">{
</span><span class="php1-space">       </span><span class="php1-reservedword">if</span><span class="php1-space"> </span><span class="php1-symbol">(</span><span class="php1-variable">$numericalData</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">{

</span><span class="php1-space">          </span><span class="php1-reservedword">if</span><span class="php1-space"> </span><span class="php1-symbol">(</span><span class="php1-identifier">strcasecmp</span><span class="php1-symbol">(</span><span class="php1-variable">$product</span><span class="php1-symbol">-&gt;</span><span class="php1-identifier">getPrice</span><span class="php1-symbol">(),</span><span class="php1-space"> </span><span class="php1-variable">$key</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">==</span><span class="php1-space"> </span><span class="php1-number">0</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">{

</span><span class="php1-space">             </span><span class="php1-variable">$productsToReturn</span><span class="php1-symbol">[</span><span class="php1-identifier">count</span><span class="php1-symbol">(</span><span class="php1-variable">$productsToReturn</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">+</span><span class="php1-space"> </span><span class="php1-number">1</span><span class="php1-symbol">]</span><span class="php1-space"> </span><span class="php1-symbol">=</span><span class="php1-space"> </span><span class="php1-variable">$product</span><span class="php1-symbol">;
</span><span class="php1-space">             </span><span class="php1-reservedword">continue</span><span class="php1-symbol">;
</span><span class="php1-space">          </span><span class="php1-symbol">}</span><span class="php1-space"> </span><span class="php1-comment">//if price

</span><span class="php1-space">          </span><span class="php1-reservedword">foreach</span><span class="php1-space"> </span><span class="php1-symbol">(</span><span class="php1-identifier">unserialize</span><span class="php1-symbol">(</span><span class="php1-variable">$product</span><span class="php1-symbol">-&gt;</span><span class="php1-identifier">getSerializedSizes</span><span class="php1-symbol">())</span><span class="php1-space"> </span><span class="php1-reservedword">as</span><span class="php1-space"> </span><span class="php1-variable">$size</span><span class="php1-space"> </span><span class="php1-symbol">=&gt;</span><span class="php1-space"> </span><span class="php1-variable">$color</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">{
</span><span class="php1-space">              </span><span class="php1-reservedword">foreach</span><span class="php1-space"> </span><span class="php1-symbol">(</span><span class="php1-variable">$color</span><span class="php1-space"> </span><span class="php1-reservedword">as</span><span class="php1-space"> </span><span class="php1-variable">$value</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">{
</span><span class="php1-space">                </span><span class="php1-reservedword">if</span><span class="php1-space"> </span><span class="php1-symbol">(</span><span class="php1-identifier">strcasecmp</span><span class="php1-symbol">(</span><span class="php1-variable">$value</span><span class="php1-symbol">[</span><span class="php1-string">'id'</span><span class="php1-symbol">],</span><span class="php1-space"> </span><span class="php1-variable">$key</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">==</span><span class="php1-space"> </span><span class="php1-number">0</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">{
</span><span class="php1-space">                    </span><span class="php1-variable">$productsToReturn</span><span class="php1-symbol">[</span><span class="php1-identifier">count</span><span class="php1-symbol">(</span><span class="php1-variable">$productsToReturn</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">+</span><span class="php1-space"> </span><span class="php1-number">1</span><span class="php1-symbol">]</span><span class="php1-space"> </span><span class="php1-symbol">=</span><span class="php1-space"> </span><span class="php1-variable">$product</span><span class="php1-symbol">;
</span><span class="php1-space">                    </span><span class="php1-reservedword">continue</span><span class="php1-symbol">;
</span><span class="php1-space">                </span><span class="php1-symbol">}
</span><span class="php1-space">              </span><span class="php1-symbol">}</span><span class="php1-space"> </span><span class="php1-comment">//colors

</span><span class="php1-space">          </span><span class="php1-symbol">}</span><span class="php1-space"> </span><span class="php1-comment">//foreach sizes
</span><span class="php1-space">       </span><span class="php1-symbol">}</span><span class="php1-space"> </span><span class="php1-reservedword">else</span><span class="php1-space"> </span><span class="php1-symbol">{

</span><span class="php1-space">           </span><span class="php1-reservedword">if</span><span class="php1-space"> </span><span class="php1-symbol">(</span><span class="php1-identifier">strcasecmp</span><span class="php1-symbol">(</span><span class="php1-variable">$product</span><span class="php1-symbol">-&gt;</span><span class="php1-identifier">getName</span><span class="php1-symbol">(),</span><span class="php1-space"> </span><span class="php1-variable">$key</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">==</span><span class="php1-space"> </span><span class="php1-number">0</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">{
</span><span class="php1-space">             </span><span class="php1-variable">$productsToReturn</span><span class="php1-symbol">[</span><span class="php1-identifier">count</span><span class="php1-symbol">(</span><span class="php1-variable">$productsToReturn</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">+</span><span class="php1-space"> </span><span class="php1-number">1</span><span class="php1-symbol">]</span><span class="php1-space"> </span><span class="php1-symbol">=</span><span class="php1-space"> </span><span class="php1-variable">$product</span><span class="php1-symbol">;
</span><span class="php1-space">             </span><span class="php1-reservedword">continue</span><span class="php1-symbol">;
</span><span class="php1-space">           </span><span class="php1-symbol">}</span><span class="php1-space"> </span><span class="php1-comment">//if name
</span><span class="php1-space">           </span><span class="php1-variable">$keywords</span><span class="php1-space"> </span><span class="php1-symbol">=</span><span class="php1-space"> explode</span><span class="php1-symbol">(</span><span class="php1-string">&quot; &quot;</span><span class="php1-symbol">,</span><span class="php1-space"> </span><span class="php1-variable">$product</span><span class="php1-symbol">-&gt;</span><span class="php1-identifier">getName</span><span class="php1-symbol">());
</span><span class="php1-space">           </span><span class="php1-variable">$found</span><span class="php1-space"> </span><span class="php1-symbol">=</span><span class="php1-space"> </span><span class="php1-reservedword">false</span><span class="php1-symbol">;
</span><span class="php1-space">           </span><span class="php1-reservedword">foreach</span><span class="php1-space"> </span><span class="php1-symbol">(</span><span class="php1-variable">$keywords</span><span class="php1-space"> </span><span class="php1-reservedword">as</span><span class="php1-space"> </span><span class="php1-variable">$keyword</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">{
</span><span class="php1-space">               </span><span class="php1-reservedword">if</span><span class="php1-space"> </span><span class="php1-symbol">(</span><span class="php1-identifier">strcasecmp</span><span class="php1-symbol">(</span><span class="php1-variable">$keyword</span><span class="php1-symbol">,</span><span class="php1-space"> </span><span class="php1-variable">$key</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">==</span><span class="php1-space"> </span><span class="php1-number">0</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">{
</span><span class="php1-space">                 </span><span class="php1-variable">$productsToReturn</span><span class="php1-symbol">[</span><span class="php1-identifier">count</span><span class="php1-symbol">(</span><span class="php1-variable">$productsToReturn</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">+</span><span class="php1-space"> </span><span class="php1-number">1</span><span class="php1-symbol">]</span><span class="php1-space"> </span><span class="php1-symbol">=</span><span class="php1-space"> </span><span class="php1-variable">$product</span><span class="php1-symbol">;
</span><span class="php1-space">                 </span><span class="php1-variable">$found</span><span class="php1-space"> </span><span class="php1-symbol">=</span><span class="php1-space"> </span><span class="php1-reservedword">true</span><span class="php1-symbol">;
</span><span class="php1-space">                 </span><span class="php1-reservedword">break</span><span class="php1-symbol">;
</span><span class="php1-space">             </span><span class="php1-symbol">}</span><span class="php1-space"> </span><span class="php1-comment">//if name

</span><span class="php1-space">           </span><span class="php1-symbol">}</span><span class="php1-space"> </span><span class="php1-comment">//foreach keyword
</span><span class="php1-space">           </span><span class="php1-reservedword">if</span><span class="php1-space"> </span><span class="php1-symbol">(</span><span class="php1-variable">$found</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">{
</span><span class="php1-space">              </span><span class="php1-reservedword">continue</span><span class="php1-symbol">;
</span><span class="php1-space">           </span><span class="php1-symbol">}
</span><span class="php1-space">           
            </span><span class="php1-reservedword">foreach</span><span class="php1-space"> </span><span class="php1-symbol">(</span><span class="php1-identifier">unserialize</span><span class="php1-symbol">(</span><span class="php1-variable">$product</span><span class="php1-symbol">-&gt;</span><span class="php1-identifier">getSerializedSizes</span><span class="php1-symbol">())</span><span class="php1-space"> </span><span class="php1-reservedword">as</span><span class="php1-space"> </span><span class="php1-variable">$size</span><span class="php1-space"> </span><span class="php1-symbol">=&gt;</span><span class="php1-space"> </span><span class="php1-variable">$color</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">{
</span><span class="php1-space">              </span><span class="php1-reservedword">foreach</span><span class="php1-space"> </span><span class="php1-symbol">(</span><span class="php1-variable">$color</span><span class="php1-space"> </span><span class="php1-reservedword">as</span><span class="php1-space"> </span><span class="php1-variable">$colorValue</span><span class="php1-space"> </span><span class="php1-symbol">=&gt;</span><span class="php1-space"> </span><span class="php1-variable">$value</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">{
</span><span class="php1-space">                </span><span class="php1-reservedword">if</span><span class="php1-space"> </span><span class="php1-symbol">(</span><span class="php1-identifier">strcasecmp</span><span class="php1-symbol">(</span><span class="php1-variable">$colorValue</span><span class="php1-symbol">,</span><span class="php1-space"> </span><span class="php1-variable">$key</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">==</span><span class="php1-space"> </span><span class="php1-number">0</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">{
</span><span class="php1-space">                  </span><span class="php1-variable">$productsToReturn</span><span class="php1-symbol">[</span><span class="php1-identifier">count</span><span class="php1-symbol">(</span><span class="php1-variable">$productsToReturn</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">+</span><span class="php1-space"> </span><span class="php1-number">1</span><span class="php1-symbol">]</span><span class="php1-space"> </span><span class="php1-symbol">=</span><span class="php1-space"> </span><span class="php1-variable">$product</span><span class="php1-symbol">;
</span><span class="php1-space">                  </span><span class="php1-variable">$found</span><span class="php1-space"> </span><span class="php1-symbol">=</span><span class="php1-space"> </span><span class="php1-reservedword">true</span><span class="php1-symbol">;
</span><span class="php1-space">                  </span><span class="php1-reservedword">break</span><span class="php1-symbol">;
</span><span class="php1-space">                </span><span class="php1-symbol">}

</span><span class="php1-space">              </span><span class="php1-symbol">}</span><span class="php1-space"> </span><span class="php1-comment">//colors
</span><span class="php1-space">                </span><span class="php1-reservedword">if</span><span class="php1-space"> </span><span class="php1-symbol">(</span><span class="php1-variable">$found</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-reservedword">break</span><span class="php1-symbol">;
</span><span class="php1-space">            </span><span class="php1-symbol">}</span><span class="php1-space"> </span><span class="php1-comment">//foreach sizes

</span><span class="php1-space">             </span><span class="php1-reservedword">if</span><span class="php1-space"> </span><span class="php1-symbol">(</span><span class="php1-variable">$found</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-reservedword">continue</span><span class="php1-symbol">;
</span><span class="php1-space">           </span><span class="php1-reservedword">if</span><span class="php1-space"> </span><span class="php1-symbol">(</span><span class="php1-identifier">strcasecmp</span><span class="php1-symbol">(</span><span class="php1-variable">$product</span><span class="php1-symbol">-&gt;</span><span class="php1-identifier">getCategoryValue</span><span class="php1-symbol">(),</span><span class="php1-space"> </span><span class="php1-variable">$key</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">==</span><span class="php1-space"> </span><span class="php1-number">0</span><span class="php1-space"> </span><span class="php1-symbol">||</span><span class="php1-space"> strcasecmp</span><span class="php1-symbol">(</span><span class="php1-variable">$product</span><span class="php1-symbol">-&gt;</span><span class="php1-identifier">getCategoryValue</span><span class="php1-symbol">()</span><span class="php1-space"> </span><span class="php1-symbol">.</span><span class="php1-space"> </span><span class="php1-string">&quot;s&quot;</span><span class="php1-symbol">,</span><span class="php1-space"> </span><span class="php1-variable">$key</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">==</span><span class="php1-space"> </span><span class="php1-number">0</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">{
</span><span class="php1-space">             </span><span class="php1-variable">$productsToReturn</span><span class="php1-symbol">[</span><span class="php1-identifier">count</span><span class="php1-symbol">(</span><span class="php1-variable">$productsToReturn</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">+</span><span class="php1-space"> </span><span class="php1-number">1</span><span class="php1-symbol">]</span><span class="php1-space"> </span><span class="php1-symbol">=</span><span class="php1-space"> </span><span class="php1-variable">$product</span><span class="php1-symbol">;
</span><span class="php1-space">             </span><span class="php1-reservedword">continue</span><span class="php1-symbol">;
</span><span class="php1-space">           </span><span class="php1-symbol">}</span><span class="php1-space"> </span><span class="php1-comment">//if category
</span><span class="php1-space">           </span><span class="php1-reservedword">if</span><span class="php1-space"> </span><span class="php1-symbol">(</span><span class="php1-identifier">strcasecmp</span><span class="php1-symbol">(</span><span class="php1-variable">$product</span><span class="php1-symbol">-&gt;</span><span class="php1-identifier">getSexValue</span><span class="php1-symbol">(),</span><span class="php1-space"> </span><span class="php1-variable">$key</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">==</span><span class="php1-space"> </span><span class="php1-number">0</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">{
</span><span class="php1-space">             </span><span class="php1-variable">$productsToReturn</span><span class="php1-symbol">[</span><span class="php1-identifier">count</span><span class="php1-symbol">(</span><span class="php1-variable">$productsToReturn</span><span class="php1-symbol">)</span><span class="php1-space"> </span><span class="php1-symbol">+</span><span class="php1-space"> </span><span class="php1-number">1</span><span class="php1-symbol">]</span><span class="php1-space"> </span><span class="php1-symbol">=</span><span class="php1-space"> </span><span class="php1-variable">$product</span><span class="php1-symbol">;
</span><span class="php1-space">             </span><span class="php1-reservedword">continue</span><span class="php1-symbol">;
</span><span class="php1-space">           </span><span class="php1-symbol">}</span><span class="php1-space"> </span><span class="php1-comment">//if category


</span><span class="php1-space">       </span><span class="php1-symbol">}</span><span class="php1-space"> </span><span class="php1-comment">//else



</span><span class="php1-space">    </span><span class="php1-symbol">}</span><span class="php1-comment">//foreach products



</span><span class="php1-space">     </span><span class="php1-reservedword">return</span><span class="php1-space"> </span><span class="php1-variable">$productsToReturn</span><span class="php1-symbol">;
</span></span>
</code></pre>
</body>
</html>